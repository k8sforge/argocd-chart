# Default values for argocd
# This is a YAML-formatted file.

# Enable/disable ArgoCD installation
argocd:
  enabled: true

# ArgoCD chart configuration (passed to argo-cd dependency)
# Uses official ArgoCD Helm chart from https://argoproj.github.io/argo-helm
argo-cd:
  server:
    service:
      type: ClusterIP
      port: 80
    ingress:
      enabled: false
    insecure: true
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
  repoServer:
    resources:
      requests:
        memory: "256Mi"
        cpu: "100m"
      limits:
        memory: "512Mi"
        cpu: "500m"
  applicationController:
    resources:
      requests:
        memory: "128Mi"
        cpu: "50m"
      limits:
        memory: "256Mi"
        cpu: "200m"
  configs:
    params:
      "server.insecure": "true"
    resourceCustomizations: {}

# Ingress configuration
ingress:
  enabled: true
  ingressClassName: ""
  hosts: []
  annotations: {}
  servicePort: 80

# Health check configuration
healthCheck:
  enabled: false
  path: "/healthz"
  protocol: "HTTP"
  port: "traffic-port"

# Enable/disable Argo Rollouts installation (optional)
# When enabled=true, Rollout configs are automatically applied
rollouts:
  enabled: false
  # Kubectl image for the rollout config hook job
  kubectlImage:
    repository: cgr.dev/chainguard/kubectl
    tag: "latest"  # Consider using a specific version tag or digest for production
    pullPolicy: Always  # Use Always with latest tag to get updates

# Argo Rollouts chart configuration (passed to argo-rollouts dependency)
# Uses official Argo Rollouts Helm chart from https://argoproj.github.io/argo-helm
argo-rollouts: {}

# Monitoring configuration
monitoring:
  serviceMonitor:
    enabled: false
    interval: "30s"
    scrapeTimeout: "10s"
    labels: {}

# PodDisruptionBudget configuration
podDisruptionBudget:
  enabled: false
  minAvailable: 1
  # Alternative: use maxUnavailable instead of minAvailable
  # maxUnavailable: 1


# Global settings
global:
  namespace: ""

# Labels and annotations
labels: {}
annotations: {}

# Name override (defaults to chart name)
nameOverride: ""
fullnameOverride: ""
